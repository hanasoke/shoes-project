<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Create Shoe</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous">
  </head>
  <body>
    <!-- Navbar -->
    <nav class="navbar navbar-expand-lg bg-dark">
        <div class="container">
            <a class="navbar-brand text-light" href="/">Homepage</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item">
                        <a class="nav-link active text-light" href="/shoes">Shoes</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link active text-light" href="/brands">Brand</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>
    <!-- End Navbar -->
    
    <div class="container my-3">
        <div class="row d-flex justify-content-center">
            <div class="col-6">
                <h2 class="text-center">Add Shoe</h2>
                <hr>

                {{ if .success }}
                    <div class="alert alert-success alert-dismissible fade show" role="alert">
                        {{ .success }}
                        <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
                    </div>
                {{ end }}

                {{ if .error }}
                    <div class="alert alert-danger alert-dismissible fade show" role="alert">
                        {{ .error }}
                        <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
                    </div>
                {{ end }}

                {{ if .duplicate }}
                    <div class="alert alert-warning alert-dismissible fade show" role="alert">
                        {{ .duplicate }}
                        <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
                    </div>
                {{ end }}

                <form action="/shoe/add" method="POST">
                    <div class="mb-3">
                        <label for="shoe_name" class="form-label">Name</label>
                        <input type="text" class="form-control {{ if .errors.shoe_name }}is-invalid{{ end }}" name="shoe_name" id="shoe_name" autocomplete="off"  value="{{ .form.shoe_name }}">
                        {{ if .errors.shoe_name }}
                            <div class="invalid-feedback">{{ .errors.shoe_name }}</div>
                        {{ end }}
                    </div>
                    <div class="mb-3">
                        <label for="brand_id" class="form-label">Brand</label>
                        <select class="form-select {{ if .errors.brand_id }}is-invalid{{ end }}" id="brand_id" name="brand_id">
                            <option value="">Select Brand</option>
                            {{ range .brands }}
                                <option value="{{ .Brand_Id }}" 
                                    {{ if eq .Brand_Id $.form.brand_id }}selected{{ end }}>
                                    {{ .Brand_Name }}
                                </option>
                            {{ end }}
                        </select>
                        {{ if .errors.brand_id }}
                            <div class="invalid-feedback">{{ .errors.brand_id }}</div>
                        {{ end }}
                    </div>
                    <div class="mb-3">
                        <label for="shoe_type" class="form-label">Type</label>
                        <input type="text" class="form-control {{ if .errors.shoe_type }}is-invalid{{ end }}" name="shoe_type" id="shoe_type" autocomplete="off" value="{{ .form.shoe_type }}">
                        {{ if .errors.shoe_type }}
                            <div class="invalid-feedback">{{ .errors.shoe_type }}</div>
                        {{ end }}
                    </div>
                    <div class="mb-3">
                        <label for="shoe_description" class="form-label">Description</label>
                        <textarea class="form-control {{ if .errors.shoe_description }}is-invalid{{ end }}" name="shoe_description" id="shoe_description" rows="3">{{ .form.shoe_description }}</textarea>
                        {{ if .errors.shoe_description }}
                            <div class="invalid-feedback">{{ .errors.shoe_description }}</div>
                        {{ end }}
                    </div>
                    <div class="mb-3">
                        <label for="shoe_sku" class="form-label">SKU</label>
                        <input type="text" class="form-control {{ if .errors.shoe_sku }}is-invalid{{ end }}" name="shoe_sku" id="shoe_sku" autocomplete="off" value="{{ .form.shoe_sku }}">
                        {{ if .errors.shoe_sku }}
                            <div class="invalid-feedback">{{ .errors.shoe_sku }}</div>
                        {{ end }}
                    </div>
                    <div class="mb-3">
                        <label for="shoe_price" class="form-label">Price</label>
                        <input type="number" class="form-control {{ if .errors.shoe_price }}is-invalid{{ end }}" name="shoe_price" id="shoe_price" autocomplete="off" value="{{ .form.shoe_price }}">
                        {{ if .errors.shoe_price }}
                            <div class="invalid-feedback">{{ .errors.shoe_price }}</div>
                        {{ end }}
                    </div>
                    <div class="mb-3">
                        <label for="shoe_stock" class="form-label">Stock</label>
                        <input type="number" class="form-control {{ if .errors.shoe_stock }}is-invalid{{ end }}" name="shoe_stock" id="shoe_stock" autocomplete="off" value="{{ .form.shoe_stock }}">
                        {{ if .errors.shoe_stock }}
                            <div class="invalid-feedback">{{ .errors.shoe_stock }}</div>
                        {{ end }}
                    </div>
                    <div class="row">
                        <div class="col">
                            <a href="/shoes" class="btn btn-secondary float-start">Back</a>
                        </div>
                        <div class="col">
                            <button type="submit" class="btn btn-primary float-end">Submit</button>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js" integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI" crossorigin="anonymous"></script>
  </body>
</html>